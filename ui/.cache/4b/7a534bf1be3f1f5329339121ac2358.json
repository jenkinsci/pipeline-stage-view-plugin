{"id":"Et7E","dependencies":[{"name":"/src/jenkins/plugins/pipeline-stage-view-plugin/ui/package.json","includedInParent":true,"mtime":1659956253918},{"name":"../../../jQuery","loc":{"line":25,"column":22,"index":1171},"parent":"/src/jenkins/plugins/pipeline-stage-view-plugin/ui/src/main/js/view/widgets/charts/index.js","resolved":"/src/jenkins/plugins/pipeline-stage-view-plugin/ui/src/main/js/jQuery/index.js"}],"generated":{"js":"var a=require(\"../../../jQuery\");exports.stackedBarChart=function(r,e){if(void 0!==e&&e<0||e>r.length-1)throw'\"highlightIdx\" of '+e+\" is not valid for a value array of length \"+r.length;for(var h=a.getJQuery()('<div class=\"stackedBarChart inner clearfix\" />'),t=0,i=0;i<r.length;i++)t+=r[i];var l=[];for(i=0;i<r.length;i++)l.push(r[i]/t*100);for(i=0;i<l.length;i++){var s=a.getJQuery()('<div class=\"bar\" />');s.css(\"width\",l[i]+\"%\"),void 0!==e&&(i<e?s.addClass(\"prehighlight\"):i===e?s.addClass(\"highlight\"):s.addClass(\"posthighlight\")),h.append(s)}return h.append('<div class=\"clearfix\" />'),h};"},"sourceMaps":{"js":{"mappings":[{"source":"view/widgets/charts/index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":0}},{"source":"view/widgets/charts/index.js","name":"jqProxy","original":{"line":25,"column":4},"generated":{"line":1,"column":4}},{"source":"view/widgets/charts/index.js","name":"require","original":{"line":25,"column":14},"generated":{"line":1,"column":6}},{"source":"view/widgets/charts/index.js","original":{"line":25,"column":22},"generated":{"line":1,"column":14}},{"source":"view/widgets/charts/index.js","name":"exports","original":{"line":27,"column":0},"generated":{"line":1,"column":33}},{"source":"view/widgets/charts/index.js","name":"stackedBarChart","original":{"line":27,"column":8},"generated":{"line":1,"column":41}},{"source":"view/widgets/charts/index.js","original":{"line":27,"column":26},"generated":{"line":1,"column":57}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":27,"column":35},"generated":{"line":1,"column":66}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":27,"column":43},"generated":{"line":1,"column":68}},{"source":"view/widgets/charts/index.js","original":{"line":28,"column":4},"generated":{"line":1,"column":71}},{"source":"view/widgets/charts/index.js","name":"undefined","original":{"line":28,"column":25},"generated":{"line":1,"column":79}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":28,"column":8},"generated":{"line":1,"column":83}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":28,"column":38},"generated":{"line":1,"column":86}},{"source":"view/widgets/charts/index.js","original":{"line":28,"column":53},"generated":{"line":1,"column":88}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":28,"column":58},"generated":{"line":1,"column":91}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":28,"column":74},"generated":{"line":1,"column":93}},{"source":"view/widgets/charts/index.js","name":"length","original":{"line":28,"column":81},"generated":{"line":1,"column":95}},{"source":"view/widgets/charts/index.js","original":{"line":28,"column":90},"generated":{"line":1,"column":102}},{"source":"view/widgets/charts/index.js","original":{"line":29,"column":8},"generated":{"line":1,"column":104}},{"source":"view/widgets/charts/index.js","original":{"line":29,"column":14},"generated":{"line":1,"column":109}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":29,"column":37},"generated":{"line":1,"column":130}},{"source":"view/widgets/charts/index.js","original":{"line":29,"column":52},"generated":{"line":1,"column":132}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":29,"column":99},"generated":{"line":1,"column":177}},{"source":"view/widgets/charts/index.js","name":"length","original":{"line":29,"column":106},"generated":{"line":1,"column":179}},{"source":"view/widgets/charts/index.js","original":{"line":36,"column":4},"generated":{"line":1,"column":186}},{"source":"view/widgets/charts/index.js","original":{"line":32,"column":4},"generated":{"line":1,"column":190}},{"source":"view/widgets/charts/index.js","name":"stackedBarChart","original":{"line":32,"column":8},"generated":{"line":1,"column":194}},{"source":"view/widgets/charts/index.js","name":"jqProxy","original":{"line":32,"column":26},"generated":{"line":1,"column":196}},{"source":"view/widgets/charts/index.js","name":"getJQuery","original":{"line":32,"column":34},"generated":{"line":1,"column":198}},{"source":"view/widgets/charts/index.js","name":"jqProxy","original":{"line":32,"column":26},"generated":{"line":1,"column":209}},{"source":"view/widgets/charts/index.js","original":{"line":32,"column":46},"generated":{"line":1,"column":210}},{"source":"view/widgets/charts/index.js","name":"valueSum","original":{"line":33,"column":8},"generated":{"line":1,"column":260}},{"source":"view/widgets/charts/index.js","original":{"line":33,"column":19},"generated":{"line":1,"column":262}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":36,"column":13},"generated":{"line":1,"column":264}},{"source":"view/widgets/charts/index.js","original":{"line":36,"column":17},"generated":{"line":1,"column":266}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":36,"column":20},"generated":{"line":1,"column":268}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":36,"column":24},"generated":{"line":1,"column":270}},{"source":"view/widgets/charts/index.js","name":"length","original":{"line":36,"column":31},"generated":{"line":1,"column":272}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":36,"column":39},"generated":{"line":1,"column":279}},{"source":"view/widgets/charts/index.js","name":"valueSum","original":{"line":37,"column":8},"generated":{"line":1,"column":283}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":37,"column":20},"generated":{"line":1,"column":286}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":37,"column":27},"generated":{"line":1,"column":288}},{"source":"view/widgets/charts/index.js","original":{"line":41,"column":4},"generated":{"line":1,"column":291}},{"source":"view/widgets/charts/index.js","name":"percentages","original":{"line":41,"column":8},"generated":{"line":1,"column":295}},{"source":"view/widgets/charts/index.js","original":{"line":41,"column":22},"generated":{"line":1,"column":297}},{"source":"view/widgets/charts/index.js","original":{"line":42,"column":4},"generated":{"line":1,"column":300}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":42,"column":13},"generated":{"line":1,"column":304}},{"source":"view/widgets/charts/index.js","original":{"line":42,"column":17},"generated":{"line":1,"column":306}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":42,"column":20},"generated":{"line":1,"column":308}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":42,"column":24},"generated":{"line":1,"column":310}},{"source":"view/widgets/charts/index.js","name":"length","original":{"line":42,"column":31},"generated":{"line":1,"column":312}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":42,"column":39},"generated":{"line":1,"column":319}},{"source":"view/widgets/charts/index.js","name":"percentages","original":{"line":43,"column":8},"generated":{"line":1,"column":323}},{"source":"view/widgets/charts/index.js","name":"push","original":{"line":43,"column":20},"generated":{"line":1,"column":325}},{"source":"view/widgets/charts/index.js","name":"values","original":{"line":43,"column":26},"generated":{"line":1,"column":330}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":43,"column":33},"generated":{"line":1,"column":332}},{"source":"view/widgets/charts/index.js","name":"valueSum","original":{"line":43,"column":38},"generated":{"line":1,"column":335}},{"source":"view/widgets/charts/index.js","original":{"line":43,"column":50},"generated":{"line":1,"column":337}},{"source":"view/widgets/charts/index.js","original":{"line":47,"column":4},"generated":{"line":1,"column":342}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":47,"column":13},"generated":{"line":1,"column":346}},{"source":"view/widgets/charts/index.js","original":{"line":47,"column":17},"generated":{"line":1,"column":348}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":47,"column":20},"generated":{"line":1,"column":350}},{"source":"view/widgets/charts/index.js","name":"percentages","original":{"line":47,"column":24},"generated":{"line":1,"column":352}},{"source":"view/widgets/charts/index.js","name":"length","original":{"line":47,"column":36},"generated":{"line":1,"column":354}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":47,"column":44},"generated":{"line":1,"column":361}},{"source":"view/widgets/charts/index.js","original":{"line":47,"column":49},"generated":{"line":1,"column":365}},{"source":"view/widgets/charts/index.js","original":{"line":48,"column":8},"generated":{"line":1,"column":366}},{"source":"view/widgets/charts/index.js","name":"cell","original":{"line":48,"column":12},"generated":{"line":1,"column":370}},{"source":"view/widgets/charts/index.js","name":"jqProxy","original":{"line":48,"column":19},"generated":{"line":1,"column":372}},{"source":"view/widgets/charts/index.js","name":"getJQuery","original":{"line":48,"column":27},"generated":{"line":1,"column":374}},{"source":"view/widgets/charts/index.js","name":"jqProxy","original":{"line":48,"column":19},"generated":{"line":1,"column":385}},{"source":"view/widgets/charts/index.js","original":{"line":48,"column":39},"generated":{"line":1,"column":386}},{"source":"view/widgets/charts/index.js","name":"cell","original":{"line":49,"column":8},"generated":{"line":1,"column":409}},{"source":"view/widgets/charts/index.js","name":"css","original":{"line":49,"column":13},"generated":{"line":1,"column":411}},{"source":"view/widgets/charts/index.js","original":{"line":49,"column":17},"generated":{"line":1,"column":415}},{"source":"view/widgets/charts/index.js","name":"percentages","original":{"line":49,"column":26},"generated":{"line":1,"column":423}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":49,"column":38},"generated":{"line":1,"column":425}},{"source":"view/widgets/charts/index.js","original":{"line":49,"column":43},"generated":{"line":1,"column":428}},{"source":"view/widgets/charts/index.js","name":"undefined","original":{"line":50,"column":29},"generated":{"line":1,"column":438}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":50,"column":12},"generated":{"line":1,"column":442}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":51,"column":16},"generated":{"line":1,"column":446}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":51,"column":20},"generated":{"line":1,"column":448}},{"source":"view/widgets/charts/index.js","name":"cell","original":{"line":52,"column":16},"generated":{"line":1,"column":450}},{"source":"view/widgets/charts/index.js","name":"addClass","original":{"line":52,"column":21},"generated":{"line":1,"column":452}},{"source":"view/widgets/charts/index.js","original":{"line":52,"column":30},"generated":{"line":1,"column":461}},{"source":"view/widgets/charts/index.js","name":"i","original":{"line":53,"column":23},"generated":{"line":1,"column":477}},{"source":"view/widgets/charts/index.js","name":"highlightIdx","original":{"line":53,"column":29},"generated":{"line":1,"column":481}},{"source":"view/widgets/charts/index.js","name":"cell","original":{"line":54,"column":16},"generated":{"line":1,"column":483}},{"source":"view/widgets/charts/index.js","name":"addClass","original":{"line":54,"column":21},"generated":{"line":1,"column":485}},{"source":"view/widgets/charts/index.js","original":{"line":54,"column":30},"generated":{"line":1,"column":494}},{"source":"view/widgets/charts/index.js","name":"cell","original":{"line":56,"column":16},"generated":{"line":1,"column":507}},{"source":"view/widgets/charts/index.js","name":"addClass","original":{"line":56,"column":21},"generated":{"line":1,"column":509}},{"source":"view/widgets/charts/index.js","original":{"line":56,"column":30},"generated":{"line":1,"column":518}},{"source":"view/widgets/charts/index.js","name":"stackedBarChart","original":{"line":59,"column":8},"generated":{"line":1,"column":536}},{"source":"view/widgets/charts/index.js","name":"append","original":{"line":59,"column":24},"generated":{"line":1,"column":538}},{"source":"view/widgets/charts/index.js","name":"cell","original":{"line":59,"column":31},"generated":{"line":1,"column":545}},{"source":"view/widgets/charts/index.js","original":{"line":64,"column":4},"generated":{"line":1,"column":548}},{"source":"view/widgets/charts/index.js","name":"stackedBarChart","original":{"line":62,"column":4},"generated":{"line":1,"column":555}},{"source":"view/widgets/charts/index.js","name":"append","original":{"line":62,"column":20},"generated":{"line":1,"column":557}},{"source":"view/widgets/charts/index.js","original":{"line":62,"column":27},"generated":{"line":1,"column":564}},{"source":"view/widgets/charts/index.js","name":"stackedBarChart","original":{"line":64,"column":11},"generated":{"line":1,"column":592}}],"sources":{"view/widgets/charts/index.js":"/*\n * The MIT License\n *\n * Copyright (c) 2013-2016, CloudBees, Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nvar jqProxy = require('../../../jQuery');\n\nexports.stackedBarChart = function(values, highlightIdx) {\n    if (highlightIdx !== undefined && highlightIdx < 0 || highlightIdx > (values.length - 1)) {\n        throw '\"highlightIdx\" of ' + highlightIdx + ' is not valid for a value array of length ' + values.length;\n    }\n\n    var stackedBarChart = jqProxy.getJQuery()('<div class=\"stackedBarChart inner clearfix\" />');\n    var valueSum = 0;\n\n    // Calc value sum\n    for (var i = 0; i < values.length; i++) {\n        valueSum += values[i];\n    }\n\n    // Calc percentages\n    var percentages = [];\n    for (var i = 0; i < values.length; i++) {\n        percentages.push((values[i] / valueSum) * 100);\n    }\n\n    // Add cells based on percentages\n    for (var i = 0; i < percentages.length; i++) {\n        var cell = jqProxy.getJQuery()('<div class=\"bar\" />');\n        cell.css('width', percentages[i] + '%');\n        if (highlightIdx !== undefined) {\n            if (i < highlightIdx) {\n                cell.addClass('prehighlight');\n            } else if (i === highlightIdx) {\n                cell.addClass('highlight');\n            } else {\n                cell.addClass('posthighlight');\n            }\n        }\n        stackedBarChart.append(cell);\n\n    }\n    stackedBarChart.append('<div class=\"clearfix\" />');\n\n    return stackedBarChart;\n}\n"},"lineCount":null}},"error":null,"hash":"be2dd29dadb8b46f49e7d3dad1a636d3","cacheData":{"env":{}}}